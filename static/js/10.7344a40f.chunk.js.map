{"version":3,"sources":["views/Login.js"],"names":["FormWrapper","styled","div","layout","labelCol","span","tailLayout","wrapperCol","offset","Register","AuthStore","useStores","history","useHistory","name","onFinish","values","setUsername","username","setPassword","password","login","then","message","info","push","catch","err","error","onFinishFailed","errorInfo","console","log","Item","label","rules","required","validator","rule","value","test","Promise","reject","length","resolve","min","Password","type","htmlType"],"mappings":"iUAOA,IAAMA,EAAcC,IAAOC,IAAV,KAMXC,EAAS,CACXC,SAAU,CAACC,KAAM,IAGfC,EAAa,CACfC,WAAY,CAACC,OAAQ,KA8EVC,UA3EE,WAAO,IACbC,EAAWC,cAAXD,UACDE,EAAQ,IAAIC,IAyBlB,OACI,kBAACb,EAAD,KACI,kBAAC,IAAD,iBACQG,EADR,CAEIW,KAAK,QACLC,SA7BK,SAAAC,GACbN,EAAUO,YAAYD,EAAOE,UAC7BR,EAAUS,YAAYH,EAAOI,UAC7BV,EAAUW,QACLC,MAAK,WACFC,IAAQC,KAAK,kCACbZ,EAAQa,KAAK,QAEhBC,OAAM,SAAAC,GACHJ,IAAQK,MAAM,kGAqBdC,eAjBW,SAAAC,GACnBC,QAAQC,IAAI,UAAWF,MAkBf,kBAAC,IAAKG,KAAN,CACIC,MAAM,qBACNpB,KAAK,WACLqB,MAAO,CAAC,CACJC,UAAU,EACVb,QAAS,yCAET,CACIc,UAvBD,SAACC,EAAKC,GACzB,MAAG,KAAKC,KAAKD,GAAeE,QAAQC,OAAO,oGACxCH,EAAMI,OAAO,GAAGJ,EAAMI,OAAO,GAAWF,QAAQC,OAAO,iDACnDD,QAAQG,cAwBH,kBAAC,IAAD,OAGJ,kBAAC,IAAKX,KAAN,CACIC,MAAM,eACNpB,KAAK,WACLqB,MAAO,CAAC,CACJC,UAAU,EACVb,QAAS,wCAET,CACIsB,IAAK,EACLtB,QAAS,uDAGjB,kBAAC,IAAMuB,SAAP,OAGJ,kBAAC,IAAKb,KAAS3B,EACX,kBAAC,IAAD,CAAQyC,KAAK,UAAUC,SAAS,UAAhC","file":"static/js/10.7344a40f.chunk.js","sourcesContent":["import React from 'react';\nimport styled from 'styled-components';\nimport {Button, Form, Input} from 'antd';\nimport {useStores} from '../stores';\nimport {useHistory} from 'react-router-dom'\nimport {message} from 'antd';\n\nconst FormWrapper = styled.div`\n    width: 40vw;\n    margin: 100px auto;\n    \n`;\n\nconst layout = {\n    labelCol: {span: 4},\n    // wrapperCol: {span: 8},\n};\nconst tailLayout = {\n    wrapperCol: {offset: 12},\n};\n\nconst Register = () => {\n    const {AuthStore}=useStores();\n    const history=new useHistory();\n    const onFinish = values => {\n        AuthStore.setUsername(values.username);\n        AuthStore.setPassword(values.password);\n        AuthStore.login()\n            .then(()=>{\n                message.info('登录成功！');\n                history.push('/');\n            })\n            .catch(err=>{\n                message.error('登录失败，请检查用户名或密码！');\n            })\n    };\n\n    const onFinishFailed = errorInfo => {\n        console.log('Failed:', errorInfo);\n    };\n\n    const validateUserName=(rule,value)=>{\n        if(/\\W/.test(value)) return Promise.reject('不能出现字母数字下划线以外的字符')\n        if(value.length<4||value.length>10) return Promise.reject('长度外4到10个字符')\n        return Promise.resolve();\n    }\n\n\n    return (\n        <FormWrapper>\n            <Form\n                {...layout}\n                name=\"basic\"\n                onFinish={onFinish}\n                onFinishFailed={onFinishFailed}\n            >\n                <Form.Item\n                    label=\"用户名\"\n                    name=\"username\"\n                    rules={[{\n                        required: true,\n                        message: '请输入用户名!'\n                    },\n                        {\n                            validator:validateUserName\n                        }]\n                    }\n                >\n                    <Input/>\n                </Form.Item>\n\n                <Form.Item\n                    label=\"密码\"\n                    name=\"password\"\n                    rules={[{\n                        required: true,\n                        message: '请输入密码！'\n                    },\n                        {\n                            min: 6,\n                            message: '长度不少于6个字符'\n                        }]}\n                >\n                    <Input.Password/>\n                </Form.Item>\n\n                <Form.Item {...tailLayout}>\n                    <Button type=\"primary\" htmlType=\"submit\">\n                        登录\n                    </Button>\n                </Form.Item>\n            </Form>\n        </FormWrapper>\n    );\n};\n\nexport default Register;\n"],"sourceRoot":""}